#!/bin/bash
# DevOps XP Tracker - Shell Wrapper
# Quick access to all gamification tools

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

# Colors
GREEN='\033[0;32m'
BLUE='\033[0;34m'
YELLOW='\033[1;33m'
RED='\033[0;31m'
NC='\033[0m' # No Color

show_help() {
    echo ""
    echo "üéÆ DevOps XP Tracker - Command Reference"
    echo "========================================"
    echo ""
    echo "Usage: ./xp [command]"
    echo ""
    echo "Commands:"
    echo "  log, l         Quick daily log (easiest way!)"
    echo "  track, t       Full XP tracker menu"
    echo "  status, s      Show current status"
    echo "  quick, q       Quick study session log"
    echo "  update, u      Update markdown files"
    echo "  commit, c      Git commit with XP stats"
    echo "  dashboard, d   Generate HTML dashboard"
    echo "  report, w      Generate weekly report"
    echo "  stats          Comprehensive statistics"
    echo "  share          Social media posts"
    echo "  achievements   Show all achievements"
    echo "  history        Show recent activity"
    echo "  help, h        Show this help"
    echo ""
    echo "Examples:"
    echo "  ./xp log       # Quick log today's activity"
    echo "  ./xp status    # Show your current stats"
    echo "  ./xp dashboard # Generate visual dashboard"
    echo "  ./xp report    # Get weekly report"
    echo "  ./xp stats     # Deep analytics"
    echo "  ./xp share     # Create social media posts"
    echo ""
}

case "$1" in
    log|l)
        echo -e "${GREEN}üìù Quick Daily Log${NC}"
        python3 "$SCRIPT_DIR/quick_log.py"
        ;;
    track|t)
        echo -e "${BLUE}üéÆ Full XP Tracker${NC}"
        python3 "$SCRIPT_DIR/xp_tracker_v2.py"
        ;;
    status|s)
        echo -e "${YELLOW}üìä Current Status${NC}"
        python3 "$SCRIPT_DIR/xp_tracker_v2.py" --status
        ;;
    quick|q)
        echo -e "${GREEN}‚ö° Quick Study Log${NC}"
        python3 "$SCRIPT_DIR/xp_tracker_v2.py" --quick
        ;;
    update|u)
        echo -e "${BLUE}üîÑ Updating Files${NC}"
        python3 "$SCRIPT_DIR/progress_updater.py"
        ;;
    commit|c)
        echo -e "${YELLOW}üîó Git Commit${NC}"
        python3 "$SCRIPT_DIR/git_integration.py"
        ;;
    dashboard|dash|d)
        echo -e "${BLUE}üìä Generate Dashboard${NC}"
        python3 "$SCRIPT_DIR/dashboard_generator.py"
        ;;
    report|weekly|w)
        echo -e "${YELLOW}üìà Weekly Report${NC}"
        python3 "$SCRIPT_DIR/weekly_report.py"
        ;;
    stats|analytics)
        echo -e "${BLUE}üìä Statistics Analysis${NC}"
        python3 "$SCRIPT_DIR/stats_analyzer.py"
        ;;
    share|social)
        echo -e "${GREEN}üì± Social Media Share${NC}"
        python3 "$SCRIPT_DIR/social_share.py"
        ;;
    achievements|a)
        echo -e "${BLUE}üèÜ Achievements${NC}"
        python3 <<EOF
import sys
sys.path.insert(0, '$SCRIPT_DIR')
from xp_tracker_v2 import DevOpsXPSystem
tracker = DevOpsXPSystem()
tracker.show_achievements()
EOF
        ;;
    history|hist)
        echo -e "${BLUE}üìú Recent Activity${NC}"
        python3 <<EOF
import sys
sys.path.insert(0, '$SCRIPT_DIR')
from xp_tracker_v2 import DevOpsXPSystem
tracker = DevOpsXPSystem()
tracker.show_recent_activity(20)
EOF
        ;;
    help|h|"")
        show_help
        ;;
    *)
        echo -e "${RED}‚ùå Unknown command: $1${NC}"
        show_help
        exit 1
        ;;
esac
